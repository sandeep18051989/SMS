@model SMS.Models.ForgotPasswordModel
@using (Html.BeginForm("ForgotPassword", "Account", FormMethod.Post, new { enctype = "multipart/form-data", @id="forgot-password" }))
{
	@Html.AntiForgeryToken()
	<div class="modal" id="forgotpassword_modal">
		<div class="modal-header">
			<h3>Forgot Password <span class="extra-title muted"></span></h3>
		</div>
		<div class="modal-body form-horizontal">
			<div class="control-group">
				<label for="Username" class="control-label">Username</label>
				<div class="controls">
					@Html.TextBoxFor(m => m.name, new { @class = "form-control", @tabindex = "1", @maxlength = "100", @title = "Username", @placeholder = "Username" })
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button href="#" class="btn btn-default" data-dismiss="modal" aria-hidden="true">Close</button>
			<input type="submit" disabled="disabled" class="btn btn-primary" value="Send Password" id="password_modal_save" />
		</div>
	</div>
	<div class="modal-overlay"></div>
	<script type="text/javascript">
		$(document).ready(function () {
			$(document).on("click", "#fogot-link", function () {
				$("#forgotpassword_modal").modal("show");
			});

			$(document).on("change", "#name", function () {
				ValidateFields();
			});
		});

		function ValidateFields() {
			var flag = true;
			if ($("#@Html.IdFor(model => model.name)").val() == null || $("#@Html.IdFor(model => model.name)").val() == "") {
				flag = false;
			}

			if (flag) {
				$("#password_modal_save").attr('disabled', false);
			}
		}
	</script>
}
